
uniform mat4 uMatrix;
attribute vec3 aPosition;
varying float vZ;

void main(){
    gl_Position = uMatrix * vec4(aPosition.xyz, 1.0);
    vZ = gl_Position.z;
}

[FRAGMENT]

varying float vZ;
void main(){
    gl_FragColor = vec4(vZ*0.5+0.5, 0.0, 0.0, 0.0);
}