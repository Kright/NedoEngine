uniform mat4 uCamera;

attribute vec3 aScreenPos;
attribute vec2 aTexturePos;

varying vec2 vTexPos;

void main(){
    gl_Position = uCamera*vec4(aScreenPos.xyz, 1.0);
    vTexPos = aTexturePos;
}

[FRAGMENT]

uniform sampler2D uTexture;

varying vec2 vTexPos;

void main(){
    vec4 color = texture2D(uTexture, vTexPos);

    if (color.a<0.1) {
        discard;
    }

    if (color.a < 1.0){
        color *= 1.0/color.a;
    }

    gl_FragColor = color;
}
